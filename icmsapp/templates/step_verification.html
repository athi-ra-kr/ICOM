{% extends "base_trn.html" %}

{% block page_title %}Verification{% endblock %}

{% block content %}
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Verification</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
    /* Styling */
    body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; background-color: #f8f9fa; margin: 0; padding: 20px; }
    .container { background: #fff; padding: 25px; margin: 0 auto; border-radius: 4px; max-width: 100%; }
    h2 { color: #00336b; font-size: 18px; margin: 0 0 20px 0; display: flex; align-items: center; gap: 10px; font-weight: 600; border-bottom: 1px solid #ddd; padding-bottom: 15px; }
    
    /* Checkbox Section */
    .declaration-box { background-color: #fcfcfc; border: 1px solid #e7e7e7; padding: 15px; margin-bottom: 25px; display: flex; align-items: flex-start; gap: 12px; }
    .declaration-box input[type="checkbox"] { margin-top: 4px; transform: scale(1.1); }
    .declaration-box label { font-size: 13px; color: #333; line-height: 1.5; font-weight: normal; margin: 0; cursor: pointer; }

    /* Form Grid */
    .form-row { display: flex; margin-bottom: 25px; gap: 30px; }
    .form-group { flex: 1; display: flex; flex-direction: column; }
    
    /* Labels & Inputs */
    label { font-size: 13px; color: #333; margin-bottom: 8px; font-weight: 700; }
    .required { color: red; margin-left: 2px; font-size: 14px; }
    select, input[type="text"] { height: 34px; padding: 6px 12px; font-size: 13px; color: #555; background-color: #fff; border: 1px solid #ccc; border-radius: 4px; width: 100%; box-sizing: border-box; }
    
    .plain-text-value { font-size: 13px; color: #333; padding-top: 5px; font-weight: 400; }

    /* Info & Warning */
    .info-section { margin-top: 10px; font-size: 13px; color: #333; }
    .info-line { display: flex; align-items: center; gap: 8px; margin-bottom: 8px; }
    .info-line i { font-weight: 900; font-size: 14px; color: #000; }
    .info-line a { color: #337ab7; text-decoration: none; }
    .warning-box { background-color: #fcf8e3; border: 1px solid #faebcc; color: #8a6d3b; padding: 15px; margin-top: 25px; border-radius: 4px; font-size: 13px; }

    /* Buttons */
    .button-container { display: flex; justify-content: flex-end; align-items: center; margin-top: 20px; gap: 10px; }
    .btn-back { background: none; border: none; color: #333; font-size: 13px; cursor: pointer; padding: 6px 12px; text-transform: uppercase; font-weight: 600; }
    .btn-submit { color: #fff; background-color: #6e82a6; border: 1px solid #6e82a6; padding: 8px 16px; font-size: 13px; border-radius: 2px; cursor: pointer; text-transform: uppercase; font-weight: 600; }
    .btn-submit:hover { background-color: #5b6e8c; }
</style>

<div class="container">
    <h2><i class="fa-solid fa-thumbs-up"></i> Verification</h2>

    <form method="POST" action="">
        {% csrf_token %}

        <div class="declaration-box">
            <input type="checkbox" id="declare" name="declaration" {% if saved_ver.declared %}checked{% endif %}>
            <label for="declare">I hereby solemnly affirm and declare that the information given herein above is true and correct to the best of my knowledge and belief and nothing has been concealed therefrom.</label>
        </div>

        <div class="form-row">
            <div class="form-group">
                <label>Name of Authorized Signatory <span class="required">●</span></label>
                
                <select name="signatory" id="authSignatorySelect" required>
                    <option value="">Select</option>

                    {% if signatory_name %}
                        <option value="{{ signatory_name }}" {% if saved_ver.signatory_name == signatory_name %}selected{% endif %}>
                            {{ signatory_name }}
                        </option>
                    {% endif %}
                </select>
            </div>

            <div class="form-group">
                <label>Place <span class="required">●</span></label>
                <input type="text" name="place" placeholder="Enter Place" value="{{ saved_ver.place|default:'' }}" required>
            </div>
        </div>

        <div class="form-row">
            <div class="form-group">
                <label>Designation / Status <span class="required">●</span></label>
                <div class="plain-text-value">Proprietor</div>
            </div>
            <div class="form-group">
                <label>Date <span class="required">●</span></label>
                <div class="plain-text-value">{% now "d/m/Y" %}</div>
                <input type="hidden" name="date" value="{% now 'Y-m-d' %}">
            </div>
        </div>

        <div class="info-section">
            <div class="info-line">
                <i class="fa-solid fa-circle-info"></i> 
                <span>DSC is compulsory for Companies & LLP</span>
            </div>
            <div class="info-line">
                <i class="fa-solid fa-circle-info"></i> 
                <a href="#">Facing Problem using DSC? click here for help</a>
            </div>
        </div>

        <div class="warning-box">
            Submit buttons will get enabled only after all mandatory fields are filled. Please check that you have filled all mandatory fields in the Form.
        </div>

        <div class="button-container">
            <button type="button" class="btn-back" onclick="history.back()">BACK</button>
            <button type="submit" class="btn-submit">SUBMIT WITH DSC</button>
            
            <button type="submit" class="btn-submit" formaction="{% url 'registration_success' %}">SUBMIT WITH EVC</button>
        </div>
    </form>
</div>

{% endblock %}